<!DOCTYPE html>
<html lang="ru">

<head>
	<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POST api/v3/events</title>
    <meta name="description" content="–≠–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ —Ç–∏–ø–æ–≤ —Ñ–∏–ª—å—Ç—Ä–æ–≤ POST api/v3/events">
	<meta name="keywords" content="REST, API, POST, events, filters, method, endpoint">
	<meta name="author" content="Govorov Andrew">

	<link rel="stylesheet" href="../../../assets/styles/styles.css">
	
	<!-- Prism.js CSS -->
	<link rel="stylesheet" href="../../../assets/styles/prism.css">
</head>

<body>
	<div class="container">
		<!-- –°–∞–π–¥–±–∞—Ä —Å –¥–µ—Ä–µ–≤–æ–º —Å—Ç—Ä–∞–Ω–∏—Ü -->
		<aside class="sidebar">
			<div class="sidebar-tree">
				<div class="tree-header">–î–µ—Ä–µ–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü</div>
				<div class="tree-item">
					<div class="tree-folder">
						<span class="tree-folder-icon">üìÅ</span>
						<span class="tree-folder-name">–ì–æ–≤–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π –°–µ—Ä–≥–µ–µ–≤–∏—á</span>
					</div>
					<div class="tree-children">
						<div class="tree-item">
							<a href="../../../pages/govorov/about.html" class="tree-link">–û–±–æ –º–Ω–µ</a>
						</div>
						<div class="tree-item">
							<a href="../../../pages/govorov/cv.html" class="tree-link">–†–µ–∑—é–º–µ</a>
						</div>
					</div>
				</div>
				<div class="tree-item">
					<div class="tree-folder">
						<span class="tree-folder-icon">üìÅ</span>
						<span class="tree-folder-name">–ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ</span>
					</div>
					<div class="tree-children">
						<div class="tree-item">
							<div class="tree-folder">
								<span class="tree-folder-icon">üìÅ</span>
								<span class="tree-folder-name">–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è</span>
							</div>
							<div class="tree-children">
								<div class="tree-item">
									<a href="../../../pages/portofolio/requirements/rfilters.html" class="tree-link">–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Å–æ–±—ã—Ç–∏–π</a>
								</div>
							</div>
						</div>
						<div class="tree-item">
							<div class="tree-folder">
								<span class="tree-folder-icon">üìÅ</span>
								<span class="tree-folder-name">–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏</span>
							</div>
							<div class="tree-children">
								<div class="tree-item">
									<a href="../../../pages/portofolio/specifications/sfilters.html" class="tree-link">–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π</a>
								</div>
							</div>
						</div>
						<div class="tree-item">
							<div class="tree-folder">
								<span class="tree-folder-icon">üìÅ</span>
								<span class="tree-folder-name">–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö</span>
							</div>
							<div class="tree-children">
								<div class="tree-item">
									<a href="../../../pages/portofolio/database/events_groups.html" class="tree-link">–ì—Ä—É–ø–ø—ã —Å–æ–±—ã—Ç–∏–π</a>
								</div>
								<div class="tree-item">
									<a href="../../../pages/portofolio/database/event_types.html" class="tree-link">–¢–∏–ø—ã —Å–æ–±—ã—Ç–∏–π</a>
								</div>
								<div class="tree-item">
									<a href="../../../pages/portofolio/database/event_types_groups.html" class="tree-link">–ì—Ä—É–ø–ø—ã-—Ç–∏–ø—ã —Å–æ–±—ã—Ç–∏–π</a>
								</div>
							</div>
						</div>
						<div class="tree-item">
							<div class="tree-folder">
								<span class="tree-folder-icon">üìÅ</span>
								<span class="tree-folder-name">REST API</span>
							</div>
							<div class="tree-children">
								<div class="tree-item">
									<a href="../../../pages/portofolio/api/postevents.html" class="tree-link active">POST api/v3/events</a>
								</div>
								<div class="tree-item">
									<a href="../../../pages/portofolio/api/getfilters.html" class="tree-link">GET api/v3/events/filters</a>
								</div>
								<div class="tree-item">
									<a href="../../../pages/portofolio/api/postdays.html" class="tree-link">POST api/v3/events/days</a>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</aside>
		
		<!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
		<main class="main-content">
			<h1 id="section-1">POST api/v3/events</h1>
			
			<!-- –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—å–∏ -->
			<nav class="article-toc" id="articleToc">
				<div class="toc-header">–ù–∞ —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ</div>
				<ul class="toc-list" id="toc">
					<!-- –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ -->
				</ul>
			</nav>
			
			<!-- –ö–æ–Ω—Ç–µ–Ω—Ç —Å—Ç–∞—Ç—å–∏ -->
			<article class="content">
				<!-------------------------------------------------------------------------------------------------------------------------------->
				<!--	–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π																										-->
				<!-------------------------------------------------------------------------------------------------------------------------------->
				<h1 id="section-2">–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π</h1>
				<div>
					<!-- –¢–∞–±–ª–∏—Ü–∞ –∏—Å—Ç–æ—Ä–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π -->
					<table class="confluence-table">
						<caption>–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –º–µ—Ç–æ–¥–∞</caption>
						<thead>
							<tr>
								<th>–í–µ—Ä—Å–∏—è</th>
								<th>–ê–≤—Ç–æ—Ä</th>
								<th>–î–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π</th>
								<th>–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π</th>
								<th>–°—Å—ã–ª–∫–∞ –Ω–∞ –∑–∞–¥–∞—á—É</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>v.1.0</td>
								<td><a href="../../../pages/govorov/about.html">–ì–æ–≤–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π</a></td>
								<td>18.05.2023</td>
								<td>
									<p>–ò—Å—Ö–æ–¥–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞</p>
								</td>
								<td>
									<div class="jira-issue-container">
										<span class="jira-issue">
											<a href="https://jira.example.com/browse/B2C-29443" class="jira-issue-key" target="_blank">
												<span class="jira-icon">üìã</span>
												<span style="color: white;">B2C-29443</span>
											</a>
											-
											<span class="jira-summary">
												[back] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ –∑–∞–ø—Ä–æ—Å–∞ —Å–æ–±—ã—Ç–∏–π –¥–ª—è —Ä–∞–∑–¥–µ–ª–∞ "–°–æ–±—ã—Ç–∏—è"
											</span>
											<span class="jira-status jira-status-published">
												–û–ü–£–ë–õ–ò–ö–û–í–ê–ù–û
											</span>
										</span>
									</div>
								</td>
							</tr>
							<tr>
								<td>v.1.1</td>
								<td><a href="../../../pages/govorov/about.html">–ì–æ–≤–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π</a></td>
								<td>16.08.2023</td>
								<td>
									<p>–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –æ—Ç–≤–µ—Ç –æ–±—ä–µ–∫—Ç–∞ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –ø–æ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤.</p>
									<p>–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤</p>
								</td>
								<td>
									<div class="jira-issue-container">
										<span class="jira-issue">
											<a href="https://jira.example.com/browse/B2C-31638" class="jira-issue-key" target="_blank">
												<span class="jira-icon">üìã</span>
												<span style="color: white;">B2C-31638</span>
											</a>
											-
											<span class="jira-summary">
												[back] –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –≤ –º–µ—Ç–æ–¥–µ v3 events
											</span>
											<span class="jira-status jira-status-published">
												–û–ü–£–ë–õ–ò–ö–û–í–ê–ù–û
											</span>
										</span>
									</div>
								</td>
							</tr>
							<tr>
								<td>v.1.2</td>
								<td><a href="../../../pages/govorov/about.html">–ì–æ–≤–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π</a></td>
								<td>04.10.2023</td>
								<td>
									<p>–§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è</p>
								</td>
								<td>
									<div class="jira-issue-container">
										<span class="jira-issue">
											<a href="https://jira.example.com/browse/B2C-32246" class="jira-issue-key" target="_blank">
												<span class="jira-icon">üìã</span>
												<span style="color: white;">B2C-32246</span>
											</a>
											-
											<span class="jira-summary">
												[back] –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–±—ã—Ç–∏—è –æ –∑–∞–ø—Ä–æ—Å–µ –¥–∞–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π –≤ –º–µ—Ç–æ–¥–µ v3 events
											</span>
											<span class="jira-status jira-status-published">
												–û–ü–£–ë–õ–ò–ö–û–í–ê–ù–û
											</span>
										</span>
									</div>
								</td>
							</tr>
							<tr>
								<td>v.1.3</td>
								<td><a href="/display/~konstantin.kainov">–ö–∞–∏–Ω–æ–≤ –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏–Ω</a></td>
								<td>27.10.2023</td>
								<td>
									<p>–£—á—ë—Ç —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞ –¥–æ–º–∞ –≤ –ª–æ–≥–∏–∫–µ —Ä–∞–±–æ—Ç—ã –º–µ—Ç–æ–¥–∞</p>
								</td>
								<td></td>
							</tr>
						</tbody>
					</table>
				</div>

				<!-------------------------------------------------------------------------------------------------------------------------------->
				<!--	–ú–µ—Ç–æ–¥																													-->
				<!-------------------------------------------------------------------------------------------------------------------------------->
				<h1 id="section-3">–ú–µ—Ç–æ–¥</h1>
				<div>
					<table class="confluence-table">
						<tbody>
							<tr>
								<th>–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ</th>
								<td>–ó–∞–ø—Ä–æ—Å —Å–ø–∏—Å–∫–∞ —Å–æ–±—ã—Ç–∏–π</td>
							</tr>
							<tr>
								<th>–°—Ç–∞—Ç—É—Å</th>
								<td>ACTIVE</td>
							</tr>
							<tr>
								<th>HTTP-–º–µ—Ç–æ–¥</th>
								<td>POST</td>
							</tr>
							<tr>
								<th>URL</th>
								<td>api/v3/events</td>
							</tr>
							<tr>
								<th>Swagger</th>
								<td><a href="" target="_blank">post_events</a></td>
							</tr>
						</tbody>
					</table>
				</div>

				<!-------------------------------------------------------------------------------------------------------------------------------->
				<!--	–ó–∞–ø—Ä–æ—Å																													-->
				<!-------------------------------------------------------------------------------------------------------------------------------->
				<h1 id="section-4">–ó–∞–ø—Ä–æ—Å</h1>
				<div>
					<!---------------------------------------------------------------------------------------------------------------------------->
					<!--	–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞																									-->
					<!---------------------------------------------------------------------------------------------------------------------------->
					<h2 id="section-5">–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞</h2>
					<div>
						<table class="confluence-table">
							<thead>
								<tr>
									<th>–ù–∞–∑–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞</th>
									<th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
									<th>–¢–∏–ø</th>
									<th>–§–æ—Ä–º–∞—Ç</th>
									<th>–î–æ–ø—É—Å—Ç–∏–º–æ—Å—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td colspan="5">–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç</td>
								</tr>
							</tbody>
						</table>
					</div>

					<!---------------------------------------------------------------------------------------------------------------------------->
					<!--	–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞																										-->
					<!---------------------------------------------------------------------------------------------------------------------------->
					<h2 id="section-6">–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞</h2>
					<div>
						<table class="confluence-table">
							<thead>
								<tr>
									<th>–ù–∞–∑–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞</th>
									<th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
									<th>–§–æ—Ä–º–∞—Ç</th>
									<th>–î–æ–ø—É—Å—Ç–∏–º–æ—Å—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>groups</td>
									<td>
										<p>–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –≥—Ä—É–ø–ø–µ —Å–æ–±—ã—Ç–∏–π</p>
										<p>(id –≥—Ä—É–ø–ø—ã –∏–∑ –ë–î events_groups)</p>
									</td>
									<td>Array</td>
									<td>–ù–µ—Ç</td>
								</tr>
								<tr>
									<td>event_types</td>
									<td>
										<p>–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–∏–ø—É —Å–æ–±—ã—Ç–∏—è</p>
										<p>(id —Ç–∏–ø–∞ —Å–æ–±—ã—Ç–∏—è –∏–∑ –ë–î event_types)</p>
									</td>
									<td>Array</td>
									<td>–ù–µ—Ç</td>
								</tr>
								<tr>
									<td>devices</td>
									<td>–°–ø–∏—Å–æ–∫ id —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –¥–ª—è –æ—Ç–±–æ—Ä–∞ —Å–æ–±—ã—Ç–∏–π</td>
									<td>Array</td>
									<td>–ù–µ—Ç</td>
								</tr>
								<tr>
									<td>date_from</td>
									<td>–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –¥–∞—Ç–µ –Ω–∞—á–∞–ª–∞ –ø–µ—Ä–∏–æ–¥–∞</td>
									<td>timestamp (unix)</td>
									<td>–ù–µ—Ç</td>
								</tr>
								<tr>
									<td>date_to</td>
									<td>–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –¥–∞—Ç–µ –∫–æ–Ω—Ü–∞ –ø–µ—Ä–∏–æ–¥–∞</td>
									<td>timestamp (unix)</td>
									<td>–ù–µ—Ç</td>
								</tr>
								<tr>
									<td>page</td>
									<td>–°—Ç—Ä–∞–Ω–∏—Ü–∞</td>
									<td>Int</td>
									<td>–ù–µ—Ç</td>
								</tr>
								<tr>
									<td>per_page</td>
									<td>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–±—ã—Ç–∏–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ</td>
									<td>Int</td>
									<td>–ù–µ—Ç</td>
								</tr>
							</tbody>
						</table>
					</div>

					<!---------------------------------------------------------------------------------------------------------------------------->
					<!--	–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞																										-->
					<!---------------------------------------------------------------------------------------------------------------------------->
					<h2 id="section-7">–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞</h2>
					<div>
						<!-- –ë–ª–æ–∫ –∫–æ–¥–∞ JSON -->
						<div class="code-container">
							<div class="code-header">
								<span class="code-title">–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é</span>
								<div class="code-language">JSON</div>
							</div>
							<div>
								<pre><code class="language-json">
									{
										"groups": [],
										"devices": [],
										"event_types": [],
										"date_from": 1684368000,
										"date_to": 1684454399,
										"page": 1,
										"per_page": 50
									}
								</code></pre>
							</div>
						</div>
						<!-- –ë–ª–æ–∫ –∫–æ–¥–∞ JSON -->
						<div class="code-container">
							<div class="code-header">
								<span class="code-title">–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π</span>
								<div class="code-language">JSON</div>
							</div>
							<div>
								<pre><code class="language-json">
									{
										"groups": [5],
										"devices": [1300028],
										"event_types": [2,4],
										"date_from": 1684368000,
										"date_to": 1684454399,
										"page": 1,
										"per_page": 50
									}
								</code></pre>
							</div>
						</div>
					</div>
				</div>

				<!-------------------------------------------------------------------------------------------------------------------------------->
				<!--	–û—Ç–≤–µ—Ç																													-->
				<!-------------------------------------------------------------------------------------------------------------------------------->
				<h1 id="section-8">–û—Ç–≤–µ—Ç</h1>
				<div>
					<!---------------------------------------------------------------------------------------------------------------------------->
					<!--	–ö–æ–¥ —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞																								-->
					<!---------------------------------------------------------------------------------------------------------------------------->
					<h2 id="section-9">–ö–æ–¥ —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞</h2>
					<div>
						<table class="confluence-table">
							<tbody>
								<tr>
									<th>200</th>
									<td>–û–ö</td>
								</tr>
							</tbody>
						</table>
					</div>

					<!---------------------------------------------------------------------------------------------------------------------------->
					<!--	–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞																									-->
					<!---------------------------------------------------------------------------------------------------------------------------->
					<h2 id="section-10">–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞</h2>
					<div>
						<table class="confluence-table">
							<thead>
								<tr>
									<th colspan="3">–ù–∞–∑–≤–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞</th>
									<th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
									<th>–§–æ—Ä–º–∞—Ç</th>
									<th>–î–æ–ø—É—Å—Ç–∏–º–æ—Å—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td colspan="3">events</td>
									<td>–°–ø–∏—Å–æ–∫ —Å–æ–±—ã—Ç–∏–π</td>
									<td>Aarray</td>
									<td>–î–∞</td>
								</tr>
								<tr>
									<td></td>
									<td colspan="2">id</td>
									<td>–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–æ–±—ã—Ç–∏—è</td>
									<td>integer</td>
									<td>–ù–µ—Ç</td>
								</tr>
								<tr>
									<td></td>
									<td colspan="2">message</td>
									<td>–°–æ–æ–±—â–µ–Ω–∏–µ –æ –ø—Ä–æ–∏–∑–æ—à–µ–¥—à–µ–º —Å–æ–±—ã—Ç–∏–∏</td>
									<td>string</td>
									<td>–ù–µ—Ç</td>
								</tr>
								<tr>
									<td></td>
									<td colspan="2">message_striped</td>
									<td>–°–æ–æ–±—â–µ–Ω–∏–µ –±–µ–∑ html-—Ç–µ–≥–æ–≤</td>
									<td>string</td>
									<td>–ù–µ—Ç</td>
								</tr>
								<tr>
									<td></td>
									<td colspan="2">level</td>
									<td>–£—Ä–æ–≤–µ–Ω—å —Å–æ–±—ã—Ç–∏—è</td>
									<td>string</td>
									<td>–ù–µ—Ç</td>
								</tr>
								<tr>
									<td></td>
									<td colspan="2">type</td>
									<td>–¢–∏–ø —Å–æ–±—ã—Ç–∏—è</td>
									<td>string</td>
									<td>–ù–µ—Ç</td>
								</tr>
								<tr>
									<td></td>
									<td colspan="2">origin_id</td>
									<td>–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∏—Å—Ç–æ—á–Ω–∏–∫–∞ —Å–æ–±—ã—Ç–∏—è</td>
									<td>integer</td>
									<td>–ù–µ—Ç</td>
								</tr>
								<tr>
									<td></td>
									<td colspan="2">origin_type</td>
									<td>–¢–∏–ø –∏—Å—Ç–æ—á–Ω–∏–∫–∞ —Å–æ–±—ã—Ç–∏—è</td>
									<td>string</td>
									<td>–ù–µ—Ç</td>
								</tr>
								<tr>
									<td></td>
									<td colspan="2">icon</td>
									<td>–¢–∏–ø –∏–∫–æ–Ω–∫–∏</td>
									<td>string</td>
									<td>–ù–µ—Ç</td>
								</tr>
								<tr>
									<td></td>
									<td colspan="2">created_at</td>
									<td>–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –∫–æ–≥–¥–∞ —Å–æ–±—ã—Ç–∏–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ</td>
									<td>timestamp (unix)</td>
									<td>–ù–µ—Ç</td>
								</tr>
								<tr>
									<td></td>
									<td colspan="2">updated_at</td>
									<td>–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏—è</td>
									<td>timestamp (unix)</td>
									<td>–ù–µ—Ç</td>
								</tr>
								<tr>
									<td></td>
									<td colspan="2">extra</td>
									<td>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ —Å–æ–±—ã—Ç–∏—é</td>
									<td>object</td>
									<td>–ù–µ—Ç</td>
								</tr>
								<tr>
									<td></td>
									<td></td>
									<td>event_uid</td>
									<td>–£–Ω–∏–∫–∞–ª—å–Ω—ã–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–æ–±—ã—Ç–∏—è –∫–∞–º–µ—Ä—ã (–¥–ª—è —Å–æ–±—ã—Ç–∏–π camera_*)</td>
									<td>string</td>
									<td>–î–∞</td>
								</tr>
								<tr>
									<td></td>
									<td></td>
									<td>begin</td>
									<td>–ú–µ—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞—á–∞–ª–∞ —Å–æ–±—ã—Ç–∏—è (–¥–ª—è —Å–æ–±—ã—Ç–∏–π camera_*, –∫—Ä–æ–º–µ camera_connected, camera_disconnected)</td>
									<td>string (ISO 8601)</td>
									<td>–î–∞</td>
								</tr>
								<tr>
									<td></td>
									<td></td>
									<td>ts</td>
									<td>–ú–µ—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ —Å–æ–±—ã—Ç–∏—è (–¥–ª—è —Å–æ–±—ã—Ç–∏–π camera_connected, camera_disconnected)</td>
									<td>string (ISO 8601)</td>
									<td>–î–∞</td>
								</tr>
								<tr>
									<td colspan="3">total_count</td>
									<td>–û–±—â–µ–µ –∫–æ–ª-–≤–æ —Å–æ–±—ã—Ç–∏–π</td>
									<td>integer</td>
									<td>–ù–µ—Ç</td>
								</tr>
								<tr>
									<td colspan="3">filters</td>
									<td>–û–±—ä–µ–∫—Ç –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤</td>
									<td>object</td>
									<td>–ù–µ—Ç</td>
								</tr>
								<tr>
									<td></td>
									<td colspan="2">{filter_type}</td>
									<td>–û–±—ä–µ–∫—Ç –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –æ–ø—Ü–∏–π —Ñ–∏–ª—å—Ç—Ä–∞</td>
									<td>object</td>
									<td>–ù–µ—Ç
									</td>
								</tr>
								<tr>
									<td></td>
									<td></td>
									<td>state</td>
									<td>–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞ (enabled/disabled)</td>
									<td>string</td>
									<td>–ù–µ—Ç</td>
								</tr>
							</tbody>
						</table>

						<!------------------------------------------------------------------------------------------------------------------------>
						<!--	–°–ø–∏—Å–æ–∫ —Ñ–∏–ª—å—Ç—Ä–æ–≤																									-->
						<!------------------------------------------------------------------------------------------------------------------------>
						<h3 id="section-11">–°–ø–∏—Å–æ–∫ —Ñ–∏–ª—å—Ç—Ä–æ–≤</h3>
						<div>
							<ul>
								<li>groups - –≥—Ä—É–ø–ø—ã —Å–æ–±—ã—Ç–∏–π;</li>
								<li>event_types - —Ç–∏–ø—ã —Å–æ–±—ã—Ç–∏–π;</li>
								<li>devices - —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.</li>
							</ul>
						</div>
					</div>

					<!---------------------------------------------------------------------------------------------------------------------------->
					<!--	–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞																										-->
					<!---------------------------------------------------------------------------------------------------------------------------->
					<h2 id="section-12">–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞</h2>
					<div>
						<!-- –ë–ª–æ–∫ –∫–æ–¥–∞ JSON -->
						<div class="code-container">
							<div class="code-header">
								<span class="code-title">–û—Ç–≤–µ—Ç –Ω–∞ –∑–∞–ø—Ä–æ—Å GET api/v3/events/filters</span>
								<div class="code-language">JSON</div>
							</div>
							<div>
								<pre><code class="language-json">
									{
										"events": [
											{
												"id": 1234567890,
												"message": "–ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ –¥–≤–∏–∂–µ–Ω–∏–µ –≤ –∫–∞–¥—Ä–µ –∫–∞–º–µ—Ä—ã &lt;a href=\"http://lk.smarthome.rt.ru/devices/{device_id}\"&gt;%camera_name%&lt;/a&gt;",
												"message_striped": "–ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ –¥–≤–∏–∂–µ–Ω–∏–µ –≤ –∫–∞–¥—Ä–µ –∫–∞–º–µ—Ä—ã %camera_name%",
												"level": "systema",
												"type": "camera_motion",
												"icon": "camera_motion",
												"origin_id": 1234567,
												"origin_type": "Device::Camera",
												"created_at": 1684411220,
												"updated_at": 1684411220,
												"extra": {
													"event_uid": "12345aaa-a12a-1234-a123-12a1a12a1234",
													"begin": "2023-05-18T12:00:20.423Z",
													"end": "2023-05-18T12:00:31.421Z"
												}
											},
											{
												"id": 1234567890,
												"message": "–í –≤–∞—à—É —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è "–£–º–Ω—ã–π –î–æ–º" –≤—ã–ø–æ–ª–Ω–µ–Ω –≤—Ö–æ–¥ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä Yandex –Ω–∞ Windows",
												"message_striped": "–í –≤–∞—à—É —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è "–£–º–Ω—ã–π –î–æ–º" –≤—ã–ø–æ–ª–Ω–µ–Ω –≤—Ö–æ–¥ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä Yandex –Ω–∞ Windows",
												"level": "systema",
												"type": "login",
												"icon": "enter",
												"origin_id": 1234567,
												"origin_type": "User",
												"created_at": 1684210645,
												"updated_at": 1684210645,
												"extra": {
													"event_uid": "12345aaa-a12a-1234-a123-12a1a12a1234",
													"begin": "2023-05-16T04:17:25Z",
													"end": "2023-05-16T04:17:25Z"
												}
											},
											{
												"id": 1234567890,
												"message": "–°–Ω—è—Ç–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞",
												"message_striped": "–°–Ω—è—Ç–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞",
												"level": "systema",
												"type": "account_state",
												"icon": "square",
												"origin_id": 1234567,
												"origin_type": "Account",
												"created_at": 1683030820,
												"updated_at": 1683030820,
												"extra": {
													"before": {
														"status": "blocked"
													},
													"after": {
														"status": "active"
													},
													"template": "account_state_unblocked"
												}
											}
										],
										"total_count": 327,
										"filters": {
											"groups": {
												"enabled": true
											},
											"devices": {
												"enabled": true
											},
											"event_types": {
												"enabled": false
											}
										}
									}
								</code></pre>
							</div>
						</div>

					</div>
				</div>

				<!-------------------------------------------------------------------------------------------------------------------------------->
				<!--	–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏																										-->
				<!-------------------------------------------------------------------------------------------------------------------------------->
				<h1 id="section-13">–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏</h1>
				<div>
					<!-- –ë–ª–æ–∫ –ø—Ä–∏–º–µ—á–∞–Ω–∏—è -->
					<div class="confluence-macro info">
						<div class="macro-icon">üí°</div>
						<div class="macro-content">
							<strong>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</strong>
							<p>–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –æ—à–∏–±–æ–∫: <a href="">–ö–æ–¥—ã –æ—à–∏–±–æ–∫</a></p>
						</div>
					</div>
					
					<!-- –°–ø–∏—Å–æ–∫ –æ—à–∏–±–æ–∫ -->
					<table class="confluence-table">
						<caption>–°–ø–∏—Å–æ–∫ –æ—à–∏–±–æ–∫</caption>
						<thead>
							<tr>
								<th>–ö–æ–¥ –æ—Ç–≤–µ—Ç–∞</th>
								<th>–¢–µ–ª–æ –æ—Ç–≤–µ—Ç–∞</th>
								<th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>404</td>
								<td>
									<div class="code-container">
										<div>
											<pre><code class="language-json">
												{
													"code": 404025,
													"message": "–£–∫–∞–∑–∞–Ω–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç"
												}
											</code></pre>
										</div>
									</div>
								</td>
								<td>
									<ul>
										<li>–ú–∞—Å—Å–∏–≤ groups –≤ –∑–∞–ø—Ä–æ—Å–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ id</li>
										<li>–ú–∞—Å—Å–∏–≤ devices –≤ –∑–∞–ø—Ä–æ—Å–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∏–ª–∏ —á—É–∂–∏–µ id</li>
										<li>–ú–∞—Å—Å–∏–≤ event_types –≤ –∑–∞–ø—Ä–æ—Å–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ id</li>
									</ul>
								</td>
							</tr>
							<tr>
								<td>422</td>
								<td>
									<div class="code-container">
										<div>
											<pre><code class="language-json">
												{
													"code": 422035,
													"message": "–£–∫–∞–∑–∞–Ω –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞—Ç—ã"
												}
											</code></pre>
										</div>
									</div>
								</td>
								<td>
									<ul>
										<li>–ü–∞—Ä–∞–º–µ—Ç—Ä date_from –∏–º–µ–µ—Ç –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∏–ª–∏ –¥–∞—Ç—É –∏–∑ –±—É–¥—É—â–µ–≥–æ</li>
										<li>–ü–∞—Ä–∞–º–µ—Ç—Ä date_to –∏–º–µ–µ—Ç –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç</li>
										<li>–ú–µ–∂–¥—É date_from –∏ date_to –ø–µ—Ä–∏–æ–¥ –±–æ–ª–µ–µ 24 —á–∞—Å–æ–≤</li>
										<li>–ü–∞—Ä–∞–º–µ—Ç—Ä date_from >= date_to</li>
									</ul>
								</td>
							</tr>
							<tr>
								<td>422</td>
								<td>
									<div class="code-container">
										<div>
											<pre><code class="language-json">
												{
													"code": 422036,
													"message": "–ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –Ω–∞ –∫–æ–ª-–≤–æ —Å–æ–±—ã—Ç–∏–π –≤ –∑–∞–ø—Ä–æ—Å–µ"
												}
											</code></pre>
										</div>
									</div>
								</td>
								<td>–í –ø–∞—Ä–∞–º–µ—Ç—Ä–µ per_page –ø—Ä–µ–≤—ã—à–µ–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤. –ù–µ –±–æ–ª—å—à–µ 50</td>
							</tr>
							<tr>
								<td>424</td>
								<td>
									<div class="code-container">
										<div>
											<pre><code class="language-json">
												{
													"code": 424008,
													"message": "–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Å–æ–±—ã—Ç–∏–π"
												}
											</code></pre>
										</div>
									</div>
								</td>
								<td>Estore –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç, –ª–∏–±–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É</td>
							</tr>
						</tbody>
					</table>
				</div>

				<!-------------------------------------------------------------------------------------------------------------------------------->
				<!--	–õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã																											-->
				<!-------------------------------------------------------------------------------------------------------------------------------->
				<h1 id="section-14">–õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã</h1>
				<div>
					<!-- –ë–ª–æ–∫ –ø—Ä–∏–º–µ—á–∞–Ω–∏—è -->
					<div class="confluence-macro note">
						<div class="macro-icon">üìù</div>
						<div class="macro-content">
							<strong>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ</strong>
							<p>–í –¥–∞–ª—å–Ω–µ–π—à–µ–º –æ–ø–∏—Å–∞–Ω–∏–∏ –ª–æ–≥–∏–∫–∏ —Ä–∞–±–æ—Ç—ã id'—à–Ω–∏–∫–∏ –ø—Ä–∏–≤–µ–¥–µ–Ω—ã –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø—Ä–∏–º–µ—Ä–∞ –¥–ª—è —Å–∫–≤–æ–∑–Ω–æ–≥–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ª–æ–≥–∏–∫–∏ –ø–æ —Ä–∞–∑–¥–µ–ª–∞–º. –ú–æ–≥—É—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –≤ –ë–î —Å—Ç–µ–Ω–¥–æ–≤.</p>
							<p>–î–ª—è —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è –æ–ø–∏—Å–∞–Ω–∏—è –ª–æ–≥–∏–∫–∏, –æ–±—â—É—é —á–∞—Å—Ç—å –≤—ã–Ω–µ—Å—É –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø—É–Ω–∫—Ç—ã.</p>
						</div>
					</div>
					
					<!---------------------------------------------------------------------------------------------------------------------------->
					<!--	–û–±—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã																										-->
					<!---------------------------------------------------------------------------------------------------------------------------->
					<h2 id="section-15">–û–±—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã</h2>
					<!-- –ë–ª–æ–∫ –ª–æ–≥–∏–∫–∏ -->
					<div class="complex-algorithm">
						<ol class="algorithm-list level-1">
							<li><span class="algorithm-text">–§–∏–ª—å—Ç—Ä <code>groups[]</code> –≤—ã–±–∏—Ä–∞–µ—Ç –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã <strong>event_types</strong>, —Ç–µ —Å–æ–±—ã—Ç–∏—è, –∫–æ—Ç–æ—Ä—ã–µ —Å–≤—è–∑–∞–Ω—ã —Å —Ç–∞–±–ª–∏—Ü–µ–π <strong>events_groups</strong> —á–µ—Ä–µ–∑ join-—Ç–∞–±–ª–∏—Ü—É <strong>event_type_groups</strong></span></li>
							<li><span class="algorithm-text">–§–∏–ª—å—Ç—Ä <code>devices[]</code> –≤—ã–±–∏—Ä–∞–µ—Ç –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</span></li>
							<li><span class="algorithm-text">–§–∏–ª—å—Ç—Ä <code>event_types[]</code> –≤—ã–±–∏—Ä–∞–µ—Ç –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Å–æ–±—ã—Ç–∏—è</span></li>
							<li><span class="algorithm-text">–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ø–æ–ª—é <code>event_types[]</code> –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è–º–∏ –ø–æ <code>devices[]</code> –∏ <code>groups[]</code></span></li>
							<li><span class="algorithm-text">–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ø–æ–ª—é <code>devices[]</code> –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ <code>groups[]</code></span></li>
						</ol>
					</div>

					<!---------------------------------------------------------------------------------------------------------------------------->
					<!--	–£—Å–ª–æ–≤–∏—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤																						-->
					<!---------------------------------------------------------------------------------------------------------------------------->
					<h2 id="section-16">–£—Å–ª–æ–≤–∏—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤</h2>
					<table class="confluence-table">
						<thead>
							<tr>
								<th>–£—Å–ª–æ–≤–∏–µ</th>
								<th>–§–∏–ª—å—Ç—Ä groups[]</th>
								<th>–§–∏–ª—å—Ç—Ä devices[]</th>
								<th>–§–∏–ª—å—Ç—Ä event_types[]</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>–£ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω—ã —Ç–æ–ª—å–∫–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</td>
								<td>‚úÖ</td>
								<td>‚úÖ</td>
								<td>‚ùå</td>
							</tr>
							<tr>
								<td>–£ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</td>
								<td>‚úÖ</td>
								<td>‚ùå</td>
								<td>‚ùå</td>
							</tr>
							<tr>
								<td class="algorithm-text">–í –∑–∞–ø—Ä–æ—Å–µ, –º–∞—Å—Å–∏–≤ <code>groups[]</code> –Ω–µ –ø—É—Å—Ç–æ–π, –Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç
									<code>{"id": 3, "name": "–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞"}</code> –∏ <code>{"id": 4, "name": "–ö–∞–º–µ—Ä—ã"}</code></td>
								<td>‚úÖ</td>
								<td>‚ùå</td>
								<td>‚ùå</td>
							</tr>
							<tr>
								<td class="algorithm-text">–í –∑–∞–ø—Ä–æ—Å–µ, –º–∞—Å—Å–∏–≤ <code>groups[]</code> –Ω–µ –ø—É—Å—Ç–æ–π –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç
									<code>{"id": 4, "name": "–ö–∞–º–µ—Ä—ã"}</code>, –Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç <code>{"id": 3, "name": "–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞"}</code></td>
								<td>‚úÖ</td>
								<td>‚úÖ</td>
								<td>‚úÖ</td>
							</tr>
							<tr>
								<td class="algorithm-text">–í –∑–∞–ø—Ä–æ—Å–µ, –º–∞—Å—Å–∏–≤ <code>groups[]</code> –Ω–µ –ø—É—Å—Ç–æ–π –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç
									<code>{"id": 3, "name": "–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞"}</code>, –Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç <code>{"id": 4, "name": "–ö–∞–º–µ—Ä—ã"}</code></td>
								<td>‚úÖ</td>
								<td>‚úÖ</td>
								<td>‚ùå</td>
							</tr>
							<tr>
								<td class="algorithm-text">–í –∑–∞–ø—Ä–æ—Å–µ, –º–∞—Å—Å–∏–≤ <code>devices[]</code> –Ω–µ –ø—É—Å—Ç–æ–π –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞,
									—á–∞—Å—Ç—å –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –∫–∞–º–µ—Ä—ã, –∞ –¥—Ä—É–≥–∞—è –Ω–µ—Ç</td>
								<td>‚ùå</td>
								<td>‚úÖ</td>
								<td>‚úÖ</td>
							</tr>
							<tr>
								<td class="algorithm-text">–í –∑–∞–ø—Ä–æ—Å–µ, –º–∞—Å—Å–∏–≤ <code>devices[]</code> –Ω–µ –ø—É—Å—Ç–æ–π –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ –∫–∞–º–µ—Ä—ã</td>
								<td>‚ùå</td>
								<td>‚úÖ</td>
								<td>‚úÖ</td>
							</tr>
							<tr>
								<td class="algorithm-text">–í –∑–∞–ø—Ä–æ—Å–µ, –º–∞—Å—Å–∏–≤ <code>devices[]</code> –Ω–µ –ø—É—Å—Ç–æ–π –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</td>
								<td>‚ùå</td>
								<td>‚úÖ</td>
								<td>‚ùå</td>
							</tr>
							<tr>
								<td class="algorithm-text">–í –∑–∞–ø—Ä–æ—Å–µ, –º–∞—Å—Å–∏–≤ <code>event_types[]</code> –Ω–µ –ø—É—Å—Ç–æ–π</td>
								<td>‚ùå</td>
								<td>‚úÖ</td>
								<td>‚úÖ</td>
							</tr>
						</tbody>
					</table>

					<!---------------------------------------------------------------------------------------------------------------------------->
					<!--	–õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã																										-->
					<!---------------------------------------------------------------------------------------------------------------------------->
					<h2 id="section-17">–õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã</h2>
					<!-- –ë–ª–æ–∫ –ª–æ–≥–∏–∫–∏ --> 
					<ol class="algorithm-list level-1">
						<li><span class="algorithm-text">–ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–∞ –±–µ–∫ —Å—á–∏—Ç—ã–≤–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏</span>
							<ol class="algorithm-list level-2">
								<li><span class="algorithm-text">
									–ï—Å–ª–∏ –º–∞—Å—Å–∏–≤ <code>groups[]</code>, <code>devices[]</code> –∏ <code>event_types[]</code> –ø—É—Å—Ç—ã–µ, —Ç–æ
									–ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ—Ç—Å—è –∑–∞–ø—Ä–æ—Å –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π.
								</span></li>
								<li>
									<span class="algorithm-text">
										–ï—Å–ª–∏ –º–∞—Å—Å–∏–≤ <code>groups[]</code> –∑–∞–ø–æ–ª–Ω–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∞—è –ª–æ–≥–∏–∫–∞
									</span>
									<ol class="algorithm-list level-3">
										<li><span class="algorithm-text">
											–ï—Å–ª–∏ <code>groups[]</code> –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç <code>{"id": 3, "name": "–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞"}</code> –∏
											<code>{"id": 4, "name": "–ö–∞–º–µ—Ä—ã"}</code>, –ø–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞ –≤ EStore –ø–æ –≤—Å–µ–º
											—Å–æ–±—ã—Ç–∏—è–º, –≥–¥–µ –≤ join-—Ç–∞–±–ª–∏—Ü–µ <strong>event_type_groups</strong> - 
											<code>"event_group_id" != "id": 3 || "id": 4</code>
										</span></li>
										<li>
											<p><span class="algorithm-text">
												–ï—Å–ª–∏ <code>groups[]</code> –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç <code>{"id": 3, "name": "–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞"}</code>,
												–ø–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞ –≤ EStore –ø–æ –≤—Å–µ–º —Å–æ–±—ã—Ç–∏—è–º, –≥–¥–µ –≤ join-—Ç–∞–±–ª–∏—Ü–µ
												<strong>event_type_groups</strong> - <code>"event_group_id" != "id": 3</code>
											</span></p>
											<!-- –ë–ª–æ–∫ –ø—Ä–∏–º–µ—á–∞–Ω–∏—è -->
											<div class="confluence-macro note">
												<div class="macro-icon">üìù</div>
												<div class="macro-content">
													<strong>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ</strong>
													<p>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–≤–∏–¥–∏—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞, –∏ –¥–∞–∂–µ —Å–º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å, —á—Ç–æ –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ–º—É –¥–ª—è
														–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ–≤–µ–¥–µ–Ω–∏—é –∏ –ø–µ—Ä–µ—Ö–æ–¥—É –∫ —à–∞–≥—É 1.c.iii, –Ω–æ –Ω–∞ —Ç–µ–∫—É—â–∏–π –º–æ–º–µ–Ω—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
														—Å–æ–∑–Ω–∞—Ç–µ–ª—å–Ω–æ —Ç–∞–∫–∞—è, —Ç.–∫. –º—ã –ø–æ–∫–∞ –Ω–µ —É–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏–µ–º —Ñ–∏–ª—å—Ç—Ä–∞</p>
												</div>
											</div>
										</li>
										<li>
											<p>
												<span class="algorithm-text">
													–ï—Å–ª–∏ <code>groups[]</code> –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç <code>{"id": 4, "name": "–ö–∞–º–µ—Ä—ã"}</code>,
													–ø–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞ –≤ EStore –ø–æ –≤—Å–µ–º —Å–æ–±—ã—Ç–∏—è–º, –≥–¥–µ –≤ join-—Ç–∞–±–ª–∏—Ü–µ
													<strong>event_type_groups</strong> - <code>"event_group_id" != "id": 4</code>
												</span>
											</p>
											<!-- –ë–ª–æ–∫ –ø—Ä–∏–º–µ—á–∞–Ω–∏—è -->
											<div class="confluence-macro note">
												<div class="macro-icon">üìù</div>
												<div class="macro-content">
													<strong>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ</strong>
													<p>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–≤–∏–¥–∏—Ç –∫–∞–º–µ—Ä—ã, –∏ –¥–∞–∂–µ —Å–º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å, —á—Ç–æ –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ–º—É –¥–ª—è
														–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ–≤–µ–¥–µ–Ω–∏—é –∏ –ø–µ—Ä–µ—Ö–æ–¥—É –∫ —à–∞–≥—É 1.c.ii, –Ω–æ –Ω–∞ —Ç–µ–∫—É—â–∏–π –º–æ–º–µ–Ω—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
														—Å–æ–∑–Ω–∞—Ç–µ–ª—å–Ω–æ —Ç–∞–∫–∞—è, —Ç.–∫. –º—ã –ø–æ–∫–∞ –Ω–µ —É–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏–µ–º —Ñ–∏–ª—å—Ç—Ä–∞</p>
												</div>
											</div>
										</li>
									</ol>
								</li>
								<li><span class="algorithm-text">–ï—Å–ª–∏ –º–∞—Å—Å–∏–≤ <code>devices[]</code> –∑–∞–ø–æ–ª–Ω–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∞—è –ª–æ–≥–∏–∫–∞</span>
									<ol class="algorithm-list level-3">
										<li><span class="algorithm-text">
											–ü–æ –ø–æ–ª—É—á–µ–Ω–Ω—ã–º id –±—ç–∫ –Ω–∞—Ö–æ–¥–∏—Ç uuid'—ã –∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç —Å –Ω–∏–º–∏ –∑–∞–ø—Ä–æ—Å –≤ EStore
										</span></li>
										<li>
											<p><span class="algorithm-text">
												–ï—Å–ª–∏ <code>devices[]</code> —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞, —á–∞—Å—Ç—å –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –∫–∞–º–µ—Ä—ã, –∞ –¥—Ä—É–≥–∞—è –Ω–µ—Ç.
											</span></p>
											<!-- –ë–ª–æ–∫ –ø—Ä–∏–º–µ—á–∞–Ω–∏—è -->
											<div class="confluence-macro note">
												<div class="macro-icon">üìù</div>
												<div class="macro-content">
													<strong>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ</strong>
													<p>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–≤–∏–¥–∏—Ç —Å–æ–±—ã—Ç–∏—è –∫–∞–º–µ—Ä—ã, –∏ –¥–∞–∂–µ —Å–º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å, —á—Ç–æ –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ–º—É
														–¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ–≤–µ–¥–µ–Ω–∏—é –∏ –ø–µ—Ä–µ—Ö–æ–¥—É –∫ —à–∞–≥—É 1.d, –Ω–æ –Ω–∞ —Ç–µ–∫—É—â–∏–π –º–æ–º–µ–Ω—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
														—Å–æ–∑–Ω–∞—Ç–µ–ª—å–Ω–æ —Ç–∞–∫–∞—è, —Ç.–∫. –º—ã –ø–æ–∫–∞ –Ω–µ —É–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏–µ–º —Ñ–∏–ª—å—Ç—Ä–∞</p>
												</div>
											</div>
										</li>
									</ol>
								</li>
								<li>
									<span class="algorithm-text">–ï—Å–ª–∏ –º–∞—Å—Å–∏–≤ <code>event_types[]</code> –∑–∞–ø–æ–ª–Ω–µ–Ω, –ø–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
										–∑–∞–ø—Ä–æ—Å–∞ –≤ EStore –ø–æ –≤—Å–µ–º —Å–æ–±—ã—Ç–∏—è–º –≤—ã–±—Ä–∞–Ω–Ω—ã–º –≤ –¥–∞–Ω–Ω–æ–º —Ñ–∏–ª—å—Ç—Ä–µ</span>
									<!-- –ë–ª–æ–∫ –ø—Ä–∏–º–µ—á–∞–Ω–∏—è -->
									<div class="confluence-macro note">
										<div class="macro-icon">üìù</div>
										<div class="macro-content">
											<strong>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ</strong>
											<p>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–≤–∏–¥–∏—Ç –æ–±—ã—á–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞, –∏ –¥–∞–∂–µ —Å–º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å, —á—Ç–æ –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ –ª–æ–≥–∏—á–µ—Å–∫–æ–º—É
												–∫–æ–Ω—Ñ–ª–∏–∫—Ç—É —Ñ–∏–ª—å—Ç—Ä–æ–≤</p>
										</div>
									</div>	
								</li>
								<li><span class="algorithm-text">–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–Ω–∞—á–µ–Ω–∏—è timezone —É —Å—É—â–Ω–æ—Å—Ç–∏ –î–æ–º</span></li>
								<li><span class="algorithm-text">
									–ü–æ–ª—É—á–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –≤—Ä–µ–º–µ–Ω–∏ –ø–µ—Ä–µ–≤–æ–¥—è—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç ISO 8601 —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞
									(<code>1698396379</code> –∏ <code>"timezone": "Europe/Moscow"</code> –≤ <code>2023-10-27T11:46:19+03:00</code>)
								</span></li>
								<li><span class="algorithm-text">–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ –ø–æ–¥—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –≤ –∑–∞–ø—Ä–æ—Å –≤ EStore</span>
									<ol class="algorithm-list level-3">
										<li><span class="algorithm-text">–ï—Å–ª–∏ –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è –±–æ–ª–µ–µ 50 —Å–æ–±—ã—Ç–∏–π, –≤–µ—Ä–Ω—É—Ç—å –Ω–∞ —Ñ—Ä–æ–Ω—Ç
											–æ—à–∏–±–∫—É 422036</span></li>
									</ol>
								</li>
							</ol>
						</li>
						<li><span class="algorithm-text">
							–° —É—á—ë—Ç–æ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤—ã—à–µ –±–µ–∫ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–ø—Ä–æ—Å –≤ EStore <strong>POST /api/estore/events/by_devices</strong>
						</span></li>
						<li><span class="algorithm-text">–ü–æ–ª—É—á–µ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞—Å—ã—â–∞–µ—Ç—Å—è –¥–∞–Ω–Ω—ã–º–∏ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –Ω–∞ —Ñ—Ä–æ–Ω—Ç</span></li>
						<li><span class="algorithm-text">
							–ï—Å–ª–∏ estore –≤–µ—Ä–Ω—É–ª —Å–ø–∏—Å–æ–∫ —Å–æ–±—ã—Ç–∏–π, —Ç–æ c—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
							<a href="/pages/viewpage.action?pageId=98569071">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ (smart)</a> –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏
							—Å <a href="/pages/viewpage.action?pageId=98570457">–ú–∞–ø–ø–∏–Ω–≥ –¥–ª—è –º–µ—Ç–æ–¥–∞ v3/events (–µ—Å–ª–∏ estore –≤–µ—Ä–Ω—É–ª —Å–æ–±—ã—Ç–∏—è)</a>,
							–µ—Å–ª–∏ –∂–µ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –∏–ª–∏ estore –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞—à–µ–ª, —Ç–æ –≤–µ—Ä–Ω—É—Ç—å
							<a href="/pages/viewpage.action?pageId=98570404">–ú–∞–ø–ø–∏–Ω–≥ –¥–ª—è –º–µ—Ç–æ–¥–∞ v3/events (—Å–æ–±—ã—Ç–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω—ã –∏–ª–∏ –æ—à–∏–±–∫–∞)</a>
						</span></li>
					</ol>

					<!-- –ë–ª–æ–∫ –∫–æ–¥–∞ SQL -->
					<div class="code-container">
						<div class="code-header">
							<span class="code-title">–ó–∞–ø—Ä–æ—Å —Ñ–∏–ª—å—Ç—Ä–æ–≤</span>
							<div class="code-language">SQL</div>
						</div>
						<div>
							<pre><code class="language-sql">
								WITH 
								-- –ü–æ–ª—É—á–∞–µ–º –≤—Ä–µ–º–µ–Ω–Ω—É—é –∑–æ–Ω—É –¥–æ–º–∞
								house_timezone AS (
									SELECT 
										COALESCE(
											:timezone, 
											(SELECT timezone FROM houses WHERE user_id = :user_id AND deleted_at IS NULL LIMIT 1),
											'UTC'
										) AS timezone
								),

								-- –û–ø—Ä–µ–¥–µ–ª—è–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Ñ–∏–ª—å—Ç—Ä–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ —É—Å–ª–æ–≤–∏–π
								filters_availability AS (
									SELECT 
										-- –§–∏–ª—å—Ç—Ä groups[] –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–µ–Ω
										true AS groups_enabled,
										
										-- –§–∏–ª—å—Ç—Ä devices[] –¥–æ—Å—Ç—É–ø–µ–Ω –µ—Å–ª–∏:
										CASE 
											-- –£ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –µ—Å—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
											WHEN EXISTS (
												SELECT 1 FROM devices WHERE user_id = :user_id AND deleted_at IS NULL
												UNION ALL
												SELECT 1 FROM cameras WHERE user_id = :user_id AND deleted_at IS NULL
												UNION ALL  
												SELECT 1 FROM controllers WHERE user_id = :user_id AND deleted_at IS NULL
											) THEN true
											
											-- –ò–õ–ò groups[] —Å–æ–¥–µ—Ä–∂–∏—Ç id 3 –∏–ª–∏ 4
											WHEN array_position(:groups::int[], 3) IS NOT NULL 
											OR array_position(:groups::int[], 4) IS NOT NULL THEN true
											
											-- –ò–õ–ò devices[] –Ω–µ –ø—É—Å—Ç–æ–π
											WHEN array_length(:devices::int[], 1) > 0 THEN true
											-- –ò–õ–ò event_types[] –Ω–µ –ø—É—Å—Ç–æ–π
											WHEN array_length(:event_types::int[], 1) > 0 THEN true
											
											ELSE false
										END AS devices_enabled,
										
										-- –§–∏–ª—å—Ç—Ä event_types[] –¥–æ—Å—Ç—É–ø–µ–Ω –µ—Å–ª–∏:
										CASE 
											-- groups[] —Å–æ–¥–µ—Ä–∂–∏—Ç id 4 (–ö–∞–º–µ—Ä—ã)
											WHEN array_position(:groups::int[], 4) IS NOT NULL THEN true
											-- –ò–õ–ò devices[] —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–∞–º–µ—Ä—ã
											WHEN EXISTS (
												SELECT 1 FROM cameras 
												WHERE id = ANY(:devices::int[]) 
												AND user_id = :user_id 
												AND deleted_at IS NULL
											) THEN true
											-- –ò–õ–ò event_types[] –Ω–µ –ø—É—Å—Ç–æ–π
											WHEN array_length(:event_types::int[], 1) > 0 THEN true
											ELSE false
										END AS event_types_enabled
								),

								-- –ë–∞–∑–æ–≤—ã–µ event_types –∏–∑ groups[] (–±–µ–∑ —É—á–µ—Ç–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤)
								base_groups_event_types AS (
									SELECT DISTINCT et.id
									FROM event_type_groups etg
									INNER JOIN event_types et ON et.id = etg.event_type_id AND et.deleted_at IS NULL
									WHERE etg.event_group_id = ANY(:groups::int[])
									AND etg.deleted_at IS NULL
								),

								-- –ü—Ä–∏–º–µ–Ω—è–µ–º –ª–æ–≥–∏–∫—É –∏—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è groups[]
								filtered_groups_event_types AS (
									SELECT id FROM base_groups_event_types
									WHERE 
										-- –ï—Å–ª–∏ groups[] –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç id 3 –∏ 4
										(array_position(:groups::int[], 3) IS NULL AND array_position(:groups::int[], 4) IS NULL)
										OR
										-- –ï—Å–ª–∏ groups[] –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç id 3
										(array_position(:groups::int[], 3) IS NULL AND array_position(:groups::int[], 4) IS NOT NULL)
										OR
										-- –ï—Å–ª–∏ groups[] –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç id 4  
										(array_position(:groups::int[], 3) IS NOT NULL AND array_position(:groups::int[], 4) IS NULL)
										OR
										-- –ï—Å–ª–∏ groups[] —Å–æ–¥–µ—Ä–∂–∏—Ç –∏ id 3 –∏ id 4 - –±–µ—Ä–µ–º –≤—Å–µ
										(array_position(:groups::int[], 3) IS NOT NULL AND array_position(:groups::int[], 4) IS NOT NULL)
								),

								-- –ü–æ–ª—É—á–∞–µ–º UUID —É—Å—Ç—Ä–æ–π—Å—Ç–≤ —Å —É—á–µ—Ç–æ–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤ —Ñ–∏–ª—å—Ç—Ä–æ–≤
								final_devices_uuids AS (
									SELECT 
										CASE 
											-- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: event_types[] –∑–∞–ø–æ–ª–Ω–µ–Ω - –±–µ—Ä–µ–º –≤—Å–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
											WHEN array_length(:event_types::int[], 1) > 0 THEN (
												SELECT ARRAY_AGG(DISTINCT uuid) FROM (
													SELECT uuid FROM devices WHERE user_id = :user_id AND deleted_at IS NULL
													UNION ALL
													SELECT uuid FROM cameras WHERE user_id = :user_id AND deleted_at IS NULL
													UNION ALL
													SELECT uuid FROM controllers WHERE user_id = :user_id AND deleted_at IS NULL
												) AS all_devices
											)
											-- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: devices[] –∑–∞–ø–æ–ª–Ω–µ–Ω - –±–µ—Ä–µ–º —Ç–æ–ª—å–∫–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
											WHEN array_length(:devices::int[], 1) > 0 THEN (
												SELECT ARRAY_AGG(DISTINCT uuid) FROM (
													SELECT uuid FROM devices 
													WHERE id = ANY(:devices::int[]) AND user_id = :user_id AND deleted_at IS NULL
													UNION ALL
													SELECT uuid FROM cameras 
													WHERE id = ANY(:devices::int[]) AND user_id = :user_id AND deleted_at IS NULL
													UNION ALL
													SELECT uuid FROM controllers 
													WHERE id = ANY(:devices::int[]) AND user_id = :user_id AND deleted_at IS NULL
												) AS selected_devices
											)
											-- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: groups[] –∑–∞–ø–æ–ª–Ω–µ–Ω - –±–µ—Ä–µ–º –≤—Å–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
											WHEN array_length(:groups::int[], 1) > 0 THEN (
												SELECT ARRAY_AGG(DISTINCT uuid) FROM (
													SELECT uuid FROM devices WHERE user_id = :user_id AND deleted_at IS NULL
													UNION ALL
													SELECT uuid FROM cameras WHERE user_id = :user_id AND deleted_at IS NULL
													UNION ALL
													SELECT uuid FROM controllers WHERE user_id = :user_id AND deleted_at IS NULL
												) AS all_devices
											)
											-- –ë–µ–∑ —Ñ–∏–ª—å—Ç—Ä–æ–≤ - –≤—Å–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
											ELSE (
												SELECT ARRAY_AGG(DISTINCT uuid) FROM (
													SELECT uuid FROM devices WHERE user_id = :user_id AND deleted_at IS NULL
													UNION ALL
													SELECT uuid FROM cameras WHERE user_id = :user_id AND deleted_at IS NULL
													UNION ALL
													SELECT uuid FROM controllers WHERE user_id = :user_id AND deleted_at IS NULL
												) AS all_devices
											)
										END AS device_uuids
								),

								-- –§–æ—Ä–º–∏—Ä—É–µ–º —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ event_types —Å —É—á–µ—Ç–æ–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤
								final_event_types AS (
									SELECT 
										CASE 
											-- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: event_types[] –∑–∞–ø–æ–ª–Ω–µ–Ω
											WHEN array_length(:event_types::int[], 1) > 0 THEN
												:event_types::int[]
											-- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: devices[] –∑–∞–ø–æ–ª–Ω–µ–Ω - –±–µ—Ä–µ–º event_types —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –≤—ã–±—Ä–∞–Ω–Ω—ã–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏
											WHEN array_length(:devices::int[], 1) > 0 THEN (
												SELECT ARRAY_AGG(DISTINCT et.id) 
												FROM event_types et
												WHERE et.deleted_at IS NULL
												AND EXISTS (
													SELECT 1 FROM devices d 
													WHERE d.id = ANY(:devices::int[]) AND d.user_id = :user_id AND d.deleted_at IS NULL
													AND et.origin_class LIKE 'Device%'
													UNION ALL
													SELECT 1 FROM cameras c 
													WHERE c.id = ANY(:devices::int[]) AND c.user_id = :user_id AND c.deleted_at IS NULL  
													AND et.origin_class = 'Device::Camera'
													UNION ALL
													SELECT 1 FROM controllers ctr 
													WHERE ctr.id = ANY(:devices::int[]) AND ctr.user_id = :user_id AND ctr.deleted_at IS NULL
													AND et.origin_class LIKE 'Device%'
												)
											)
											-- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: groups[] –∑–∞–ø–æ–ª–Ω–µ–Ω
											WHEN array_length(:groups::int[], 1) > 0 THEN (
												SELECT ARRAY_AGG(DISTINCT id) FROM filtered_groups_event_types
											)
											-- –ë–µ–∑ —Ñ–∏–ª—å—Ç—Ä–æ–≤ - –≤—Å–µ event_types
											ELSE (
												SELECT ARRAY_AGG(id) FROM event_types WHERE deleted_at IS NULL
											)
										END AS event_type_ids
								),

								-- UUID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π
								user_estore_uuid AS (
									SELECT estore_uuid
									FROM users 
									WHERE id = :user_id AND deleted_at IS NULL
								),

								-- –§–æ—Ä–º–∏—Ä—É–µ–º –≤—Å–µ UUID –¥–ª—è EStore (—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ + –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
								all_estore_uuids AS (
									SELECT UNNEST(
										(SELECT device_uuids FROM final_devices_uuids) || 
										ARRAY[(SELECT estore_uuid FROM user_estore_uuid)]
									) AS uuid
								),

								-- –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–∏–º–∏—Ç –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
								pagination_check AS (
									SELECT 
										CASE 
											WHEN :limit > 50 THEN 'ERROR_422036'
											ELSE 'OK'
										END AS status
								)

								-- –§–∏–Ω–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
								SELECT 
									-- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è EStore
									json_build_object(
										'device_uuids', (SELECT ARRAY_AGG(DISTINCT uuid) FROM all_estore_uuids),
										'event_types', (SELECT event_type_ids FROM final_event_types),
										'timezone', (SELECT timezone FROM house_timezone),
										'date_from', to_char(
											to_timestamp(:date_from) AT TIME ZONE (SELECT timezone FROM house_timezone), 
											'YYYY-MM-DD"T"HH24:MI:SSOF'
										),
										'date_to', to_char(
											to_timestamp(:date_to) AT TIME ZONE (SELECT timezone FROM house_timezone), 
											'YYYY-MM-DD"T"HH24:MI:SSOF'  
										),
										'limit', :limit,
										'offset', :offset,
										'include_deleted', true
									) AS estore_params,
									
									-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤
									json_build_object(
										'groups', (SELECT groups_enabled FROM filters_availability),
										'devices', (SELECT devices_enabled FROM filters_availability), 
										'event_types', (SELECT event_types_enabled FROM filters_availability)
									) AS filters_availability,
									
									-- –°—Ç–∞—Ç—É—Å –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
									(SELECT status FROM pagination_check) AS pagination_status
							</code></pre>
						</div>
					</div>

					<p><strong>–ü–æ—è—Å–Ω–µ–Ω–∏—è –∫ –ª–æ–≥–∏–∫–µ:</strong></p>
					<ol>
						<li><strong>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã —Ñ–∏–ª—å—Ç—Ä–æ–≤</strong>: event_types[] > devices[] > groups[]</li>
						<li><strong>–õ–æ–≥–∏–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è groups</strong> - —É—á–∏—Ç—ã–≤–∞–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ id 3 –∏/–∏–ª–∏ 4</li>
						<li><strong>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤</strong> –Ω–∞ –æ—Å–Ω–æ–≤–µ —É—Å–ª–æ–≤–∏–π –∏–∑ —Ç–∞–±–ª–∏—Ü—ã</li>
						<li><strong>–ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–∞ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏</strong> (422036 –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ 50 —Å–æ–±—ã—Ç–∏–π)</li>
						<li><strong>–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ –≤ ISO 8601</strong> —Å —É—á–µ—Ç–æ–º –≤—Ä–µ–º–µ–Ω–Ω–æ–π –∑–æ–Ω—ã</li>
						<li><strong>–í–∫–ª—é—á–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤</strong> –∏ UUID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π</li>
					</ol>
				</div>
			</article>
		</main>
	</div>

	<!-- –ö–Ω–æ–ø–∫–∞ "–í–≤–µ—Ä—Ö" -->
	<button class="scroll-to-top" id="scrollToTop" aria-label="–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –Ω–∞—á–∞–ª—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã"></button>
	
	<script src="../../../assets/scripts/prism.js"></script>
	<script src="../../../assets/scripts/script.js"></script>
</body>
</html>